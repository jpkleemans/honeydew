function VariableRepository(){this.findByKey=function(a){var b={};return{observe:function(a,c){void 0===b[a]&&(b[a]=[]),b[a].push(c)},setAttributes:function(a){for(var c=b["change:attributes"].length;c--;)b["change:attributes"][c]()},getAttributes:function(){return{value:10,style:"color:red;"}},getKey:function(){return"ROOT"},getTitle:function(){return"ROOT"},getChildren:function(){return[{observe:function(a,c){void 0===b[a]&&(b[a]=[]),b[a].push(c)},setAttributes:function(a){for(var c=b["change:attributes"].length;c--;)b["change:attributes"][c]()},getAttributes:function(){return{value:10,style:"color:red;"}},getKey:function(){return"CHILD1"},getTitle:function(){return"CHILD1"},getChildren:function(){return[]},getContext:function(a){return{observe:function(a,b){},setAttributes:function(a){},getAttributes:function(){return{}},getKey:function(){return""},getTitle:function(){return""}}}},{observe:function(a,c){void 0===b[a]&&(b[a]=[]),b[a].push(c)},setAttributes:function(a){for(var c=b["change:attributes"].length;c--;)b["change:attributes"][c]()},getAttributes:function(){return{value:10,style:"color:red;"}},getKey:function(){return"CHILD2"},getTitle:function(){return"CHILD2"},getChildren:function(){return[]},getContext:function(a){return{observe:function(a,b){},setAttributes:function(a){},getAttributes:function(){return{}},getKey:function(){return""},getTitle:function(){return""}}}}]},getContext:function(a){return{observe:function(a,b){},setAttributes:function(a){},getAttributes:function(){return{}},getKey:function(){return""},getTitle:function(){return""}}}}}}var Honeydew;!function(a){var b=function(){function a(a){this.attributes=a}return a}();a.UIContext=b}(Honeydew||(Honeydew={}));var Honeydew;!function(a){var b=function(){function a(a,b,c,d){void 0===d&&(d={}),this.key=a,this.title=b,this.attributes=d,this.children=c}return a}();a.UIVariable=b}(Honeydew||(Honeydew={}));var Honeydew;!function(a){var b=function(){function b(a,b){var c=this;this.scope={},this.terminal=!0,this.$compile=a,this.variables=b,this.link=function(a,b,d){var e=d.fesBindAttributes,f=c.variables.findByKey(e);if(a[e]=c.getUIVariable(f),void 0===a[e])throw new Error("Variable "+e+" not initialized");var g=a[e].attributes;c.setAttributes(e,g,b),b.removeAttr("fes-bind-attributes"),c.$compile(b)(a)}}return b.prototype.setAttributes=function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&c.attr("ng-attr-"+d,"{{"+a+".attributes."+d+"}}");c.attr("ng-model",a+".attributes.value")},b.prototype.getUIVariable=function(b){for(var c=b.getKey(),d=b.getTitle(),e=b.getAttributes(),f=[],g=b.getChildren().length;g--;)f.push(this.getUIVariable(b.getChildren()[g]));var h=new a.UIVariable(c,d,f,e);return h},b}();a.FesBindAttributes=b}(Honeydew||(Honeydew={}));var Honeydew;!function(a){var b=function(){function b(a){var b=this;this.variables=a,this.link=function(a,c,d){var e=d.fesInit,f=b.variables.findByKey(e);a[e]=b.getUIVariable(f)}}return b.prototype.getUIVariable=function(b){var c=b.getKey(),d=b.getTitle(),e=b.getChildren(),f=new a.UIVariable(c,d,e);return f},b}();a.FesInit=b}(Honeydew||(Honeydew={}));var Honeydew;!function(a){var b=function(){function a(a,b){var c=this;this.priority=1005,this.$compile=a,this.variables=b,this.link=function(a,b,d){var e=d.ngRepeat,f=(e.match("in (.*)$")[1],c.variables.findByKey("ROOT"));a.ROOT=f,console.log(a.ROOT)}}return a}();a.FesRepeat=b}(Honeydew||(Honeydew={}));var Honeydew;!function(a){var b=function(){function b(){}return b.FesBindAttributes=function(){var b=function(b,c){return new a.FesBindAttributes(b,c)};return b.$inject=["$compile","IVariableRepository"],b},b.FesRepeat=function(){var b=function(b,c){return new a.FesRepeat(b,c)};return b.$inject=["$compile","IVariableRepository"],b},b}();a.DirectiveFactory=b}(Honeydew||(Honeydew={})),angular.module("honeydew",[]).constant("IVariableRepository",new VariableRepository).directive("fesBindAttributes",Honeydew.DirectiveFactory.FesBindAttributes()).directive("fesRepeat",Honeydew.DirectiveFactory.FesRepeat());